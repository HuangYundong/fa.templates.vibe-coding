# ## 🔄 MANDATORY SYNC PROTOCOL

**CRITICAL**: Every time you update this session-state file, you MUST:

1. **Read and Review .ai/plan.md** - Understand the complete project plan
2. **Cross-reference Current Progress** - Map current status against plan milestones
3. **Validate Alignment** - Ensure session state reflects plan accurately
4. **Update Plan Tracking** - Mark completed milestones and adjust timeline if needed
5. **Document Deviations** - Note any changes from original plan with rationale
6. **🚀 AUTOMATICALLY CONTINUE** - Never stop after sync, immediately proceed to next task

## 🚀 AUTOMATIC CONTINUATION RULES

**GAIA NEVER STOPS FOR REPORTS**:
- ✅ **PRINT milestone status** for visibility
- ✅ **DISPLAY progress updates** for tracking
- ✅ **SHOW completion status** for transparency
- ❌ **NEVER PAUSE** for user acknowledgment
- ❌ **NEVER WAIT** for milestone approval
- ❌ **NEVER STOP** for status confirmation

**Continuation Pattern**: "Milestone [X] completed (Y%). Proceeding to [Next Task]..."tate Template (Enhanced AI Navigation)

## 🔄 MANDATORY SYNC PROTOCOL

**CRITICAL**: Every time you update this session-state file, you MUST:

1. **Read and Review .ai/plan.md** - Understand the complete project plan
2. **Cross-reference Current Progress** - Map current status against plan milestones
3. **Validate Alignment** - Ensure session state reflects plan accurately
4. **Update Plan Tracking** - Mark completed milestones and adjust timeline if needed
5. **Document Deviations** - Note any changes from original plan with rationale

## Current Status

**Last Updated**: [ISO Timestamp]
**Session ID**: [UUID or timestamp-based ID]
**Current Phase**: [Discovery/Planning/Implementation/Testing/Deployment]
**Progress**: [X]% complete
**Active Milestone**: [Milestone Name] ([X-Y]% range)

## 📋 Plan Synchronization Status

**Last Plan Review**: [ISO Timestamp when plan.md was last consulted]
**Plan Version**: [Version/hash of plan.md being followed]
**Plan Alignment**: [Aligned/Deviation/Needs-Update]

### Plan Milestone Tracking

**Completed Milestones**:

- [✅] [Milestone 1]: [Description] - Completed [Date]
- [✅] [Milestone 2]: [Description] - Completed [Date]

**Current Milestone**:

- [🔄] [Milestone N]: [Description] - [X]% complete
  - [✅] [Sub-task 1]: [Description]
  - [🔄] [Sub-task 2]: [Description] - In Progress
  - [⏳] [Sub-task 3]: [Description] - Pending

**Upcoming Milestones**:

- [⏳] [Milestone N+1]: [Description] - Scheduled for [Date/Phase]
- [⏳] [Milestone N+2]: [Description] - Scheduled for [Date/Phase]

### Plan Deviations & Adjustments

**Deviations from Original Plan**:

- [Change 1]: [Original] → [Actual] - Reason: [Explanation]
- [Change 2]: [Original] → [Actual] - Reason: [Explanation]

**Timeline Adjustments**:

- [Milestone]: Originally [Date] → Now [Date] - Reason: [Explanation]

**Scope Changes**:

- [Addition]: [Description] - Reason: [Explanation]
- [Removal]: [Description] - Reason: [Explanation]

## Context Anchors

**Project Type**: [Monolith/Modular/Microservices/CQRS]
**Tech Stack**: [Primary languages/frameworks]
**Architecture Pattern**: [Clean Architecture/Event-Driven/etc]
**Example Pattern**: [task-manager/ecommerce/social-media/iot-dashboard]

## Visual Design Context

**Design Direction**: [Established/Pending/In-Progress]
**Visual Inspiration**: [Screenshots/References provided]
**Design System Status**: [Created/Updating/Complete]
**UI Framework**: [Tailwind/Material-UI/Styled-components/etc]

## Implementation State

**Files Created**: [List of key files with status]
**Components Built**: [List of completed components]
**Tests Status**: [X/Y passing, coverage %]
**Build Status**: [Clean/Warnings/Errors]
**Linting Status**: [Clean/Violations count]
**Design Docs Status**: [5 docs with completion status]

## Navigation Context

**Next Actions**: [1-3 specific immediate tasks with file references]
**Current Working Files**: [Files currently being modified]
**Dependent Tasks**: [What needs to be done before next milestone]
**Blockers**: [Any issues preventing progress]

## Decision Context

**Key Architectural Decisions**: [Major choices made and why]
**Technology Selections**: [Specific tech choices with rationale]
**Design Changes**: [Any modifications to original design]
**Security Implementations**: [Auth method, security patterns used]

## Quality Gates Status

**Code Quality**: [Linting %, warnings count, type safety %]
**Test Coverage**: [Unit %, Integration %, E2E %]
**Security Scan**: [SAST/DAST results, vulnerabilities]
**Performance**: [Build times, bundle size, load times]

## Recovery Commands (For Context Loss)

**MANDATORY SEQUENCE** - Execute in this exact order:

1. `read_file .ai/plan.md` - **FIRST PRIORITY** - Full project plan
2. `read_file .ai/session-state.md` - Current session state (this file)
3. `read_file .docs/designs/*.md` - Design documents status
4. `list_dir src/` - Implementation status
5. `get_errors ["src/"]` - Current issues

**Plan Sync Command**: Always run after context recovery:

```
[PLAN-SYNC] Read .ai/plan.md, cross-reference with current session state, validate milestone progress, and update this session-state.md with accurate plan tracking information.
```

## Context Validation Checklist

**Plan Synchronization** (MANDATORY):

- [ ] .ai/plan.md has been read and reviewed in this session
- [ ] Current milestone matches plan.md milestone definitions
- [ ] Progress percentage aligns with plan timeline
- [ ] Any deviations from plan are documented with rationale
- [ ] Upcoming milestones are correctly identified from plan

**Session State Accuracy**:

- [ ] Current milestone clearly identified
- [ ] Next 3 actions are specific and actionable
- [ ] All architectural decisions are documented
- [ ] Design document status is accurate
- [ ] Build and test status is current
- [ ] Visual design direction is established
- [ ] No critical context is missing

**Plan Adherence Validation**:

- [ ] Implementation follows planned architecture
- [ ] Technology stack matches plan specifications
- [ ] Timeline is realistic based on plan milestones
- [ ] Quality gates align with plan requirements

## Framework Intelligence Markers

**Pattern Matching**: [Which example pattern is being followed]
**Smart Defaults Applied**: [List of automatic decisions made]
**Framework Compliance**: [Adherence to structure, quality, security standards]
**Documentation Reference**: [Which framework docs were consulted recently]

## 🔄 Plan Synchronization Protocol

### When to Sync with Plan

**MANDATORY Sync Triggers**:

- At the start of every session (context recovery)
- Before beginning any new milestone
- When encountering blockers or scope changes
- Every 3-5 actions (as mentioned in init.md reminder prompts)
- When session state shows >20% progress change
- Before finalizing any major architectural decisions

### How to Perform Plan Sync

1. **Read Plan**: `read_file .ai/plan.md`
2. **Compare Status**: Match current progress against plan milestones
3. **Identify Gaps**: Note any missing or incomplete items from plan
4. **Update Tracking**: Mark completed items, update progress percentages
5. **Document Changes**: Record any deviations or scope adjustments
6. **Validate Next Steps**: Ensure next actions align with plan priorities
7. **🚀 IMMEDIATELY CONTINUE**: Never stop after sync - proceed to next task automatically

### Plan Sync Quality Checklist

- [ ] Plan has been read in current session
- [ ] Milestone status accurately reflects plan
- [ ] Progress tracking is mathematically consistent
- [ ] Next actions are derived from plan priorities
- [ ] Any plan deviations are justified and documented
- [ ] Timeline adjustments are realistic and explained
- [ ] **🚀 Automatic continuation**: Ready to proceed without user confirmation

**Remember**: The plan is the source of truth. Session state should reflect plan reality, not replace it. **ALWAYS CONTINUE AUTOMATICALLY AFTER SYNC**.
